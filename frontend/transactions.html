<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>My Transactions</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
</head>
<body class="container mt-4">
<h3>Your Trade Requests</h3>
<table class="table table-bordered mt-3">
  <thead>
    <tr><th>Book</th><th>Sender</th><th>Receiver</th><th>Status</th></tr>
  </thead>
  <tbody id="txnBody"></tbody>
</table>

<script>
function loadTransactions(){
    $.post('../backend/transactions.php',{},function(data){
        const txns = JSON.parse(data);
        let html='';
        txns.forEach(t=>{
            html += `<tr>
              <td>${t.title}</td>
              <td>${t.sender_name}</td>
              <td>${t.receiver_name}</td>
              <td>${t.status}</td>
            </tr>`;
        });
        $('#txnBody').html(html);
    });
}
loadTransactions();
</script>
</body>
</html>
